# ü¶∑ DentalSync - Gu√≠a Completa del Entorno Docker

Esta gu√≠a te ayudar√° a configurar y usar el entorno de desarrollo completo de DentalSync usando Docker. Documentaci√≥n actualizada con procedimientos validados en producci√≥n.

## üìã Tabla de Contenidos

- [üöÄ Inicio R√°pido](#-inicio-r√°pido)
- [üèóÔ∏è Arquitectura del Entorno](#Ô∏è-arquitectura-del-entorno)
- [üì¶ Servicios Incluidos](#-servicios-incluidos)
- [‚öôÔ∏è Configuraci√≥n Paso a Paso](#Ô∏è-configuraci√≥n-paso-a-paso)
- [üîß Scripts y Comandos](#-scripts-y-comandos)
- [ÔøΩ Creaci√≥n de Usuarios](#-creaci√≥n-de-usuarios)
- [üóÑÔ∏è Base de Datos](#Ô∏è-base-de-datos)
- [üêõ Troubleshooting](#-troubleshooting)
- [üìö Comandos de Referencia](#-comandos-de-referencia)
- [üîç Verificaci√≥n del Sistema](#-verificaci√≥n-del-sistema)

---

## üöÄ Inicio R√°pido

### ‚úÖ Prerrequisitos

- [Docker](https://www.docker.com/get-started) (versi√≥n 20.10+)
- [Docker Compose](https://docs.docker.com/compose/install/) (versi√≥n 2.0+)
- Git configurado
- Puerto 8000 y 3307 disponibles

### üê≥ Proceso de Configuraci√≥n Completo

1. **Limpiar entorno Docker existente (si existe):**
   ```bash
   # Detener todos los contenedores relacionados
   docker stop $(docker ps -aq --filter name=dentalsync) 2>/dev/null
   
   # Eliminar contenedores
   docker rm $(docker ps -aq --filter name=dentalsync) 2>/dev/null
   
   # Eliminar vol√∫menes
   docker volume prune -f
   
   # Limpiar sistema Docker
   docker system prune -f
   ```

2. **Construir e iniciar servicios:**
   ```bash
   cd /path/to/DentalSync
   docker-compose -f Docker/docker-compose.dev.yml up --build -d
   ```

3. **Verificar que los contenedores est√©n ejecut√°ndose:**
   ```bash
   docker ps
   # Debe mostrar: dentalsync-dev y dentalsync-mariadb
   ```

4. **Configurar la aplicaci√≥n Laravel (dentro del contenedor):**
   ```bash
   # Entrar al contenedor
   docker exec -it dentalsync-dev bash
   
   # Copiar archivo de configuraci√≥n
   cp .env.example .env
   
   # Generar clave de aplicaci√≥n
   php artisan key:generate
   
   # Ejecutar migraciones
   php artisan migrate
   
   # Instalar dependencias de Node.js
   npm install
   
   # Compilar assets
   npm run build
   ```

5. **Acceder a la aplicaci√≥n:**
   - Abrir navegador en: http://localhost:8000
   - ‚úÖ Deber√≠as ver la interfaz de login de DentalSync

---

## üèóÔ∏è Arquitectura del Entorno

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    DentalSync Dev Environment               ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îÇ
‚îÇ  ‚îÇ   Laravel   ‚îÇ  ‚îÇ    Vue.js   ‚îÇ  ‚îÇ   MariaDB   ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ  (Port 8000)‚îÇ  ‚îÇ (Port 5173) ‚îÇ  ‚îÇ (Port 3307) ‚îÇ         ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ              Vol√∫menes Persistentes                ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ C√≥digo fuente (bind mount)                      ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ Datos de MariaDB                                ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ Cach√© de Composer y npm                         ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ Historial de bash                               ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üì¶ Servicios Incluidos

### üöÄ Aplicaci√≥n Principal (dentalsync-dev)
- **Base:** PHP 8.2-FPM con todas las extensiones necesarias
- **Includes:** Node.js 20, Composer, npm, herramientas de desarrollo
- **Puerto:** 8000 (Laravel) + 5173 (Vite)

### üóÑÔ∏è Base de Datos (dentalsync-mariadb)
- **Imagen:** MariaDB 11.2
- **Puerto:** 3307 (host) ‚Üí 3306 (contenedor)
- **Usuario:** `dentalsync` | **Contrase√±a:** `password`
- **Base de datos:** `dentalsync`
- **Host interno:** `database` (para conexiones desde el contenedor app)
- **Configuraci√≥n:** UTF8MB4, collation unicode_ci optimizada

---

## ‚öôÔ∏è Configuraci√≥n Paso a Paso

### üìÅ Estructura de Archivos Docker

```
Docker/
‚îú‚îÄ‚îÄ Dockerfile.dev              # Imagen PHP 8.2 + Node.js 20
‚îú‚îÄ‚îÄ docker-compose.dev.yml      # Orquestaci√≥n completa
‚îú‚îÄ‚îÄ mariadb/
‚îÇ   ‚îî‚îÄ‚îÄ mariadb.cnf            # Configuraci√≥n MariaDB optimizada
‚îî‚îÄ‚îÄ scripts/                   # Scripts de automatizaci√≥n
```

### üîß Configuraci√≥n del Archivo .env

**IMPORTANTE:** La configuraci√≥n `.env` debe ser editada **dentro del contenedor Docker**, no en tu m√°quina local.

```bash
# Entrar al contenedor
docker exec -it dentalsync-dev bash

# Editar .env dentro del contenedor
nano .env
```

**Configuraci√≥n .env requerida:**

```env
# Aplicaci√≥n Laravel
APP_NAME=DentalSync
APP_ENV=local
APP_KEY=base64:... # Se genera con php artisan key:generate
APP_DEBUG=true
APP_TIMEZONE=UTC
APP_URL=http://localhost:8000

# Base de datos MariaDB (configuraci√≥n para Docker)
DB_CONNECTION=mariadb
DB_HOST=database                # ‚ö†Ô∏è IMPORTANTE: usar 'database', no 'localhost'
DB_PORT=3306
DB_DATABASE=dentalsync
DB_USERNAME=dentalsync
DB_PASSWORD=password

# Configuraci√≥n de sesiones
SESSION_DRIVER=database
SESSION_LIFETIME=120

# Cache
CACHE_STORE=database

# Configuraci√≥n Vite para desarrollo
VITE_APP_NAME="${APP_NAME}"
```

### üö® Errores Comunes de Configuraci√≥n

1. **Error "getaddrinfo for database failed":**
   - ‚ùå `DB_HOST=localhost`
   - ‚úÖ `DB_HOST=database`

2. **Error "Vite manifest not found":**
   - Ejecutar: `npm run build` dentro del contenedor

3. **Permisos de npm:**
   - Ejecutar: `npm config set cache /tmp/.npm --global`

---

## üîß Scripts Disponibles

### `/Docker/scripts/start-dev.sh`
Inicia todo el entorno de desarrollo con un solo comando.

```bash
./Docker/scripts/start-dev.sh
```

### `/Docker/scripts/stop-dev.sh`
Detiene todos los servicios de forma segura.

```bash
./Docker/scripts/stop-dev.sh
```

### `/Docker/scripts/dev-tools.sh`
Herramientas avanzadas de desarrollo (usar dentro del contenedor).

```bash
# Mostrar ayuda
./dev-tools.sh help

# Configurar proyecto completo
./dev-tools.sh setup

# Iniciar desarrollo completo (Laravel + Vite)
./dev-tools.sh dev

# Ver estado del proyecto
./dev-tools.sh status

# Reset completo de base de datos
./dev-tools.sh fresh
```

### Scripts del Contenedor

Estos scripts est√°n disponibles dentro del contenedor en `/home/developer/scripts/`:

- `install-deps.sh` - Instala dependencias de PHP y Node.js
- `setup-project.sh` - Configura el proyecto Laravel completo

---

## üí° Uso con VS Code

### Extensiones Incluidas

El dev container instala autom√°ticamente estas extensiones:

**PHP & Laravel:**
- Intelephense (autocompletado PHP)
- Laravel Extra Intellisense
- Laravel Blade syntax
- PHP Debug (Xdebug)

**Vue.js & Frontend:**
- Volar (Vue 3 support)
- Tailwind CSS IntelliSense
- Prettier (formateo de c√≥digo)
- ESLint

**Herramientas:**
- GitLens
- Docker extension
- Database Client
- Material Icon Theme

### Configuraciones Autom√°ticas

- **Formateo:** Se ejecuta autom√°ticamente al guardar
- **Debugging:** Xdebug configurado para PHP
- **Terminal:** Bash con aliases √∫tiles
- **Emmet:** Habilitado para archivos Blade y Vue

### Atajos √ötiles (dentro del contenedor)

```bash
# Aliases disponibles
serve    # php artisan serve --host=0.0.0.0 --port=8000
tinker   # php artisan tinker
migrate  # php artisan migrate
fresh    # php artisan migrate:fresh --seed
dev      # npm run dev
build    # npm run build
```

---

## üë• Creaci√≥n de Usuarios

### üîê Estructura de Usuarios

El sistema DentalSync utiliza la tabla `usuarios` con los siguientes campos:
- `usuario` - Identificador √∫nico para login (no email)
- `nombre` - Nombre completo del usuario
- `password_hash` - Contrase√±a encriptada
- `rol` - Tipo de usuario (`dentista` o `recepcionista`)
- `activo` - Estado del usuario (true/false)

### üìù Crear Usuarios Manualmente

**1. Entrar al contenedor y abrir Tinker:**
```bash
docker exec -it dentalsync-dev bash
php artisan tinker
```

**2. Importar el modelo Usuario:**
```php
use App\Models\Usuario;
```

**3. Crear usuario dentista:**
```php
Usuario::create(['usuario' => 'dentista', 'nombre' => 'Dr. Juan P√©rez', 'password_hash' => bcrypt('dentista123'), 'rol' => 'dentista', 'activo' => true]);
```

**4. Crear usuario recepcionista:**
```php
Usuario::create(['usuario' => 'recepcionista', 'nombre' => 'Mar√≠a Gonz√°lez', 'password_hash' => bcrypt('recepcion123'), 'rol' => 'recepcionista', 'activo' => true]);
```

**5. Verificar usuarios creados:**
```php
Usuario::all();
```

**6. Salir de Tinker:**
```php
exit
```

### ‚úÖ Usuarios de Prueba por Defecto

Despu√©s de ejecutar los comandos anteriores, tendr√°s estos usuarios disponibles:

| Usuario | Contrase√±a | Rol | Nombre |
|---------|------------|-----|--------|
| `dentista` | `dentista123` | dentista | Dr. Juan P√©rez |
| `recepcionista` | `recepcion123` | recepcionista | Mar√≠a Gonz√°lez |

### üîí Proceso de Login

1. Ir a http://localhost:8000
2. Usar uno de los usuarios de arriba
3. El sistema redirigir√° seg√∫n el rol del usuario

### ‚ö†Ô∏è Notas Importantes sobre Usuarios

- **NO usar etiquetas `<?php` en Tinker** - ya est√°s en entorno PHP
- **Campo `usuario`** es obligatorio y √∫nico (no email)
- **Campo `password_hash`** debe usarse en lugar de `password`
- **Ejecutar comandos uno por uno** en Tinker, no en bloque

---

## üóÑÔ∏è Base de Datos

### SQLite (Por Defecto)
Para desarrollo r√°pido, se usa SQLite:
- **Archivo:** `database/database.sqlite`
- **Sin configuraci√≥n adicional necesaria**
- **Ideal para:** Desarrollo local, pruebas r√°pidas

### MariaDB (Opcional)
Para desarrollo m√°s avanzado o similitud con producci√≥n:

1. **Actualizar `.env`:**
   ```env
   DB_CONNECTION=mysql
   DB_HOST=database
   DB_PORT=3306
   DB_DATABASE=dentalsync
   DB_USERNAME=dentalsync
   DB_PASSWORD=password
   ```

2. **Migrar datos:**
   ```bash
   php artisan migrate:fresh --seed
   ```

### Conexi√≥n desde VS Code

Con la extensi√≥n Database Client:
1. Abrir Command Palette (`Ctrl+Shift+P`)
2. Buscar "Database: Add Connection"
3. Seleccionar MySQL/MariaDB
4. Configurar:
   - **Host:** `localhost`
   - **Port:** `3307`
   - **Username:** `dentalsync`
   - **Password:** `password`
   - **Database:** `dentalsync`

---

## üêõ Troubleshooting

### üö® Problemas Comunes y Soluciones Validadas

#### 1. ‚ùå Error "Vite manifest.json not found"

**S√≠ntomas:** P√°gina blanca o error 500 al acceder a localhost:8000

**Soluci√≥n:**
```bash
# Entrar al contenedor
docker exec -it dentalsync-dev bash

# Compilar assets
npm run build

# Verificar que el archivo existe
ls -la public/build/manifest.json
```

#### 2. ‚ùå Error "getaddrinfo for database failed"

**S√≠ntomas:** Error de conexi√≥n a base de datos en Tinker o migraciones

**Causa:** `.env` configurado incorrectamente

**Soluci√≥n:**
```bash
# Entrar al contenedor
docker exec -it dentalsync-dev bash

# Verificar configuraci√≥n de DB
php artisan config:show database.connections.mariadb

# Debe mostrar DB_HOST=database, NO localhost
```

#### 3. ‚ùå Error "Parse error unexpected '<'" en Tinker

**Causa:** Usar `<?php` en Tinker

**Soluci√≥n:**
```php
# ‚ùå INCORRECTO
<?php use App\Models\Usuario;

# ‚úÖ CORRECTO
use App\Models\Usuario;
```

#### 4. ‚ùå Puerto 8000 ya en uso

**Soluci√≥n:**
```bash
# Verificar qu√© proceso usa el puerto
lsof -i :8000

# O cambiar puerto en docker-compose.dev.yml
ports:
  - "8080:8000"
```

#### 5. ‚ùå Permisos de npm (EACCES)

**Soluci√≥n:**
```bash
# Dentro del contenedor
npm config set cache /tmp/.npm --global
npm install
```

#### 6. ‚ùå Contenedores no inician

**Soluci√≥n:**
```bash
# Reset completo
docker-compose -f Docker/docker-compose.dev.yml down -v
docker system prune -f
docker-compose -f Docker/docker-compose.dev.yml up --build -d
```

#### 7. ‚ùå MariaDB no conecta

**Diagn√≥stico:**
```bash
# Verificar que MariaDB est√© ejecut√°ndose
docker ps | grep mariadb

# Ver logs de MariaDB
docker logs dentalsync-mariadb

# Probar conexi√≥n desde el contenedor
docker exec -it dentalsync-dev mariadb -h database -u dentalsync -ppassword --skip-ssl -e "SELECT 'OK';"
```

### Logs y Debugging

```bash
# Ver logs de todos los servicios
docker-compose -f Docker/docker-compose.dev.yml logs

# Ver logs de un servicio espec√≠fico
docker-compose -f Docker/docker-compose.dev.yml logs app

# Ver logs en tiempo real
docker-compose -f Docker/docker-compose.dev.yml logs -f

# Entrar al contenedor para debugging
docker exec -it dentalsync-dev bash
```

---

## üìö Comandos de Referencia

### üê≥ Docker - Comandos Esenciales

```bash
# üöÄ INICIO COMPLETO (desde cero)
docker-compose -f Docker/docker-compose.dev.yml down -v
docker system prune -f
docker-compose -f Docker/docker-compose.dev.yml up --build -d

# üìä MONITOREO
docker ps                                           # Ver contenedores activos
docker logs dentalsync-dev                          # Logs de la aplicaci√≥n
docker logs dentalsync-mariadb                      # Logs de la base de datos
docker-compose -f Docker/docker-compose.dev.yml ps # Estado de servicios

# üîß MANTENIMIENTO
docker exec -it dentalsync-dev bash                 # Entrar al contenedor
docker-compose -f Docker/docker-compose.dev.yml restart  # Reiniciar servicios
docker-compose -f Docker/docker-compose.dev.yml down     # Detener servicios
```

### ü¶∑ Laravel - Comandos Validados

```bash
# üèóÔ∏è CONFIGURACI√ìN INICIAL (dentro del contenedor)
cp .env.example .env
php artisan key:generate
php artisan migrate
php artisan serve --host=0.0.0.0 --port=8000

# üîç DIAGN√ìSTICO
php artisan config:show database.connections.mariadb
php artisan migrate:status
php artisan route:list
php artisan config:clear && php artisan cache:clear

# üë• GESTI√ìN DE USUARIOS
php artisan tinker
# Dentro de Tinker:
# use App\Models\Usuario;
# Usuario::all();
# Usuario::create([...]);
```

### üé® Frontend - Assets y Vite

```bash
# üì¶ INSTALACI√ìN Y BUILD (dentro del contenedor)
npm config set cache /tmp/.npm --global  # Evitar errores de permisos
npm install
npm run build                             # OBLIGATORIO para producci√≥n

# üîß DESARROLLO (opcional)
npm run dev                               # Desarrollo con hot reload

# ‚úÖ VERIFICACI√ìN
ls -la public/build/manifest.json         # Verificar que el build funcion√≥
```

### üóÑÔ∏è Base de Datos - Comandos Directos

```bash
# üîå CONEXI√ìN DIRECTA (desde contenedor app)
mariadb -h database -u dentalsync -ppassword --skip-ssl dentalsync

# üìä QUERIES √öTILES
mariadb -h database -u dentalsync -ppassword --skip-ssl -e "SHOW DATABASES;"
mariadb -h database -u dentalsync -ppassword --skip-ssl -e "USE dentalsync; SHOW TABLES;"
mariadb -h database -u dentalsync -ppassword --skip-ssl -e "USE dentalsync; SELECT * FROM usuarios;"

# üîÑ RESET DE BASE DE DATOS
php artisan migrate:fresh
```

---

## üîç Verificaci√≥n del Sistema

### ‚úÖ Lista de Verificaci√≥n Completa

Ejecuta estos comandos para verificar que todo funciona correctamente:

```bash
# 1. Verificar contenedores activos
docker ps | grep dentalsync
# Debe mostrar: dentalsync-dev y dentalsync-mariadb

# 2. Verificar conectividad de base de datos
docker exec -it dentalsync-dev mariadb -h database -u dentalsync -ppassword --skip-ssl -e "SELECT 'DB OK';"
# Debe mostrar: DB OK

# 3. Verificar configuraci√≥n Laravel
docker exec -it dentalsync-dev php artisan config:show database.connections.mariadb
# DB_HOST debe ser 'database'

# 4. Verificar migraciones
docker exec -it dentalsync-dev php artisan migrate:status
# Todas las migraciones deben mostrar [1] Ran

# 5. Verificar assets compilados
docker exec -it dentalsync-dev ls -la public/build/manifest.json
# Debe existir el archivo

# 6. Verificar aplicaci√≥n web
curl -s -o /dev/null -w "%{http_code}" http://localhost:8000
# Debe retornar: 200
```

### üéØ Resultados Esperados

Si todo est√° configurado correctamente:

- ‚úÖ Contenedores `dentalsync-dev` y `dentalsync-mariadb` ejecut√°ndose
- ‚úÖ Base de datos conectada y migraciones ejecutadas
- ‚úÖ Assets de Vite compilados en `public/build/`
- ‚úÖ Aplicaci√≥n accesible en http://localhost:8000
- ‚úÖ Interfaz de login visible y funcional
- ‚úÖ Usuarios de prueba creados y operativos

### üö® Indicadores de Problemas

- ‚ùå Error 500: Verificar `npm run build` y configuraci√≥n `.env`
- ‚ùå P√°gina blanca: Verificar assets de Vite
- ‚ùå Error DB: Verificar `DB_HOST=database` en `.env`
- ‚ùå Puerto ocupado: Cambiar puerto en `docker-compose.dev.yml`

---

## üîß Personalizaci√≥n

### Agregar Extensiones de VS Code

Edita `.devcontainer/devcontainer.json`:

```json
"extensions": [
  "existente.extension",
  "nueva.extension"
]
```

### Modificar Configuraci√≥n de PHP

Edita `Docker/Dockerfile.dev` y agrega:

```dockerfile
RUN echo "nueva_config = valor" >> /usr/local/etc/php/php.ini
```

### Agregar Nuevos Servicios

Edita `Docker/docker-compose.dev.yml`:

```yaml
services:
  nuevo-servicio:
    image: imagen:tag
    ports:
      - "puerto:puerto"
    networks:
      - dentalsync-network
```

---

## üöÄ Tips de Productividad

1. **Usa los aliases:** `serve`, `tinker`, `dev`, `build`
2. **Hot reload:** Vite recarga autom√°ticamente los cambios
3. **Debugging:** Xdebug est√° configurado para VS Code
4. **Base de datos:** Usa SQLite para desarrollo r√°pido
5. **Git:** Configuraci√≥n se hereda del host
6. **Terminal m√∫ltiple:** Abre varias terminales en VS Code

---

---

## ÔøΩ Procedimiento de Reset Completo

Si algo sale mal, usa este procedimiento de reset validado:

```bash
# 1. Detener y limpiar todo
docker-compose -f Docker/docker-compose.dev.yml down -v
docker system prune -f

# 2. Construir e iniciar servicios
docker-compose -f Docker/docker-compose.dev.yml up --build -d

# 3. Configurar aplicaci√≥n
docker exec -it dentalsync-dev bash -c "
cp .env.example .env &&
php artisan key:generate &&
php artisan migrate &&
npm config set cache /tmp/.npm --global &&
npm install &&
npm run build
"

# 4. Crear usuarios de prueba
docker exec -it dentalsync-dev php artisan tinker --execute="
use App\Models\Usuario;
Usuario::create(['usuario' => 'dentista', 'nombre' => 'Dr. Juan P√©rez', 'password_hash' => bcrypt('dentista123'), 'rol' => 'dentista', 'activo' => true]);
Usuario::create(['usuario' => 'recepcionista', 'nombre' => 'Mar√≠a Gonz√°lez', 'password_hash' => bcrypt('recepcion123'), 'rol' => 'recepcionista', 'activo' => true]);
"

# 5. Verificar
curl -s -o /dev/null -w "%{http_code}" http://localhost:8000
```

---

## üìû Soporte y Documentaci√≥n

### üÜò Si Encuentras Problemas

1. **Ejecuta diagn√≥stico completo:**
   ```bash
   # Verificar sistema Docker
   docker info
   docker ps -a | grep dentalsync
   
   # Verificar logs
   docker logs dentalsync-dev --tail 50
   docker logs dentalsync-mariadb --tail 50
   
   # Verificar aplicaci√≥n
   docker exec -it dentalsync-dev php artisan config:show database
   ```

2. **Revisa la secci√≥n [Troubleshooting](#-troubleshooting)**

3. **Usa el procedimiento de reset completo**

4. **Documenta el problema con:**
   - Comando que caus√≥ el error
   - Mensaje de error completo
   - Output de `docker ps` y `docker logs`
   - Sistema operativo y versi√≥n de Docker

### üìã Informaci√≥n del Sistema

- **Laravel:** 12.26.3
- **PHP:** 8.2.29
- **Node.js:** 20.19.5
- **MariaDB:** 11.2
- **Vue.js:** 3.x
- **Vite:** Configurado para development y production

### üîó Enlaces √ötiles

- [Docker Documentation](https://docs.docker.com/)
- [Laravel Documentation](https://laravel.com/docs)
- [MariaDB Documentation](https://mariadb.org/documentation/)

---

## üìÑ Licencia

Este entorno de desarrollo es parte del proyecto DentalSync.

**Documentaci√≥n actualizada:** 7 de octubre de 2025  
**Versi√≥n:** 2.0 - Procedimientos validados en producci√≥n  

---

**¬°Feliz desarrollo! ü¶∑‚ú®**

### üìù Changelog de esta Documentaci√≥n

- **v2.0 (Oct 2025):** Documentaci√≥n completa con procedimientos validados
- **v1.0:** Documentaci√≥n inicial con VS Code Dev Containers