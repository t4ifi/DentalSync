{
  "name": "DentalSync Development Container",
  "dockerComposeFile": "../Docker/docker-compose.dev.yml",
  "service": "app",
  "workspaceFolder": "/workspace",
  
  // Configuraci√≥n de VS Code
  "customizations": {
    "vscode": {
      // Extensiones que se instalar√°n autom√°ticamente
      "extensions": [
        // PHP
        "bmewburn.vscode-intelephense-client",
        "xdebug.php-debug",
        "recca0120.vscode-phpunit",
        "devsense.phptools-vscode",
        
        // Laravel
        "amiralizadeh9480.laravel-extra-intellisense",
        "onecentlin.laravel-blade",
        "stef-k.laravel-goto-controller",
        
        // Vue.js
        "Vue.volar",
        "Vue.vscode-typescript-vue-plugin",
        
        // JavaScript/TypeScript
        "esbenp.prettier-vscode",
        "dbaeumer.vscode-eslint",
        
        // Utilidades generales
        "ms-vscode.vscode-json",
        "formulahendry.auto-rename-tag",
        "bradlc.vscode-tailwindcss",
        
        // Docker
        "ms-azuretools.vscode-docker",
        
        // Git
        "eamodio.gitlens",
        
        // Markdown
        "yzhang.markdown-all-in-one",
        
        // Bases de datos
        "cweijan.vscode-database-client2",
        
        // Iconos y temas
        "vscode-icons-team.vscode-icons",
        "PKief.material-icon-theme"
      ],
      
      // Configuraciones de VS Code espec√≠ficas para el proyecto
      "settings": {
        // PHP
        "php.validate.executablePath": "/usr/local/bin/php",
        "php.suggest.basic": false,
        "intelephense.files.maxSize": 5000000,
        "intelephense.completion.insertUseDeclaration": true,
        "intelephense.completion.fullyQualifyGlobalConstantsAndFunctions": false,
        
        // Formateo
        "editor.formatOnSave": true,
        "editor.codeActionsOnSave": {
          "source.fixAll.eslint": "explicit"
        },
        
        // Files
        "files.associations": {
          "*.blade.php": "blade",
          "*.env*": "dotenv"
        },
        "files.exclude": {
          "**/node_modules": true,
          "**/vendor": true,
          "**/.git": true,
          "**/.DS_Store": true,
          "**/storage/logs": true,
          "**/bootstrap/cache": true
        },
        
        // Terminal
        "terminal.integrated.defaultProfile.linux": "bash",
        "terminal.integrated.profiles.linux": {
          "bash": {
            "path": "/bin/bash",
            "args": ["-l"]
          }
        },
        
        // Emmet
        "emmet.includeLanguages": {
          "blade": "html",
          "vue": "html"
        },
        
        // Vue
        "vetur.validation.template": false,
        
        // Tailwind CSS
        "tailwindCSS.includeLanguages": {
          "blade": "html",
          "vue": "html"
        },
        "tailwindCSS.experimental.classRegex": [
          ["class:\\s*['\"`]([^'\"`]*)['\"`]", "['\"`]([^'\"`]*)['\"`]"]
        ],
        
        // Git
        "git.enableSmartCommit": true,
        "git.confirmSync": false,
        
        // Editor
        "editor.tabSize": 4,
        "editor.insertSpaces": true,
        "editor.rulers": [80, 120],
        "editor.wordWrap": "on",
        "editor.minimap.enabled": true,
        
        // Explorer
        "explorer.compactFolders": false,
        
        // Search
        "search.exclude": {
          "**/node_modules": true,
          "**/vendor": true,
          "**/storage": true,
          "**/public/build": true
        }
      }
    }
  },
  
  // Puertos que se reenviar√°n autom√°ticamente
  "forwardPorts": [
    8000,  // Laravel
    5173,  // Vite
    3307   // MariaDB
  ],
  
  // Etiquetas para los puertos
  "portsAttributes": {
    "8000": {
      "label": "Laravel App",
      "onAutoForward": "openBrowser"
    },
    "5173": {
      "label": "Vite Dev Server",
      "onAutoForward": "silent"
    },
    "3306": {
      "label": "MariaDB",
      "onAutoForward": "silent"
    },
    "8025": {
      "label": "Mailpit",
      "onAutoForward": "silent"
    }
  },
  
  // Comandos que se ejecutar√°n despu√©s de crear el contenedor
  "postCreateCommand": "bash -c 'echo \"üöÄ Configurando DentalSync...\" && /home/developer/scripts/install-deps.sh && /home/developer/scripts/setup-project.sh && echo \"‚úÖ ¬°Entorno listo! Ejecuta: php artisan serve --host=0.0.0.0\"'",
  
  // Configuraci√≥n del usuario
  "remoteUser": "developer",
  
  // Variables de entorno
  "remoteEnv": {
    "XDEBUG_MODE": "develop,debug",
    "XDEBUG_CONFIG": "client_host=host.docker.internal",
    "PATH": "/home/developer/scripts:${containerEnv:PATH}"
  },
  
  // Montajes adicionales
  "mounts": [
    // Persistir configuraci√≥n de git
    "source=${localEnv:HOME}/.gitconfig,target=/home/developer/.gitconfig,type=bind,consistency=cached",
    // Persistir claves SSH (si existen)
    "source=${localEnv:HOME}/.ssh,target=/home/developer/.ssh,type=bind,consistency=cached"
  ],
  
  // Configuraciones adicionales
  "overrideCommand": false,
  "shutdownAction": "stopCompose",
  
  // Features adicionales (si est√°n disponibles)
  "features": {
    "ghcr.io/devcontainers/features/git:1": {
      "version": "latest"
    },
    "ghcr.io/devcontainers/features/github-cli:1": {
      "version": "latest"
    }
  }
}